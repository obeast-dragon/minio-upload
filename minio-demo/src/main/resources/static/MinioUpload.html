<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
<body>
<!-- Vue开发环境版本，包含了有帮助的命令行警告 -->
<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.7.0-beta.5/vue.js"></script>
<!-- 引入element样式element -->
<link href="https://cdn.bootcdn.net/ajax/libs/element-ui/2.15.9/theme-chalk/index.css" rel="stylesheet">
<!-- 引入element组件库 -->
<script src="https://cdn.bootcdn.net/ajax/libs/element-ui/2.15.9/index.js"></script>
<!-- 引入axios -->
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.27.2/axios.js"></script>
<div id="app" align="center">
    <h2>文件上传</h2>
    <el-upload
            class="upload-demo"
            drag
            action
            multiple
            :before-upload="beforeAvatarUpload"
            :http-request="Upload"
            :on-preview="handlePreview"
            :before-remove="beforeRemove"
            :on-remove="handleRemove"
            :on-success="handleSuccess"
            :on-exceed="handleExceed"
            :file-list="fileList"
            :auto-upload="false"
            :limit="limit"
    >
        <i class="el-icon-upload"></i>
        <div class="el-upload__text">将文件拖到此处，或<em>点击上传</em></div>
        <div slot="tip" class="el-upload__tip">上传文件大小不能超过 1G</div>
    </el-upload>
    <el-button slot="tip" style="margin: 20px 0;" size="small" type="success" @click="submitUpload">上传到服务器
    </el-button>

    <el-progress
            v-show="showProgress"
            :text-inside="true"
            :stroke-width="15"
            :percentage="progress"
            style="width: 200px"
    ></el-progress>


</div>

<script>
    new Vue({
        el: "#app",
        data() {
            return {
                fileList: [],//文件列
                showProgress: true,//进度条的显示
                dataObj: {}, //存签名信息
                progress: 100, //进度条数据
                limit: 1
            }
        },
        methods: {
            //-------------------------------钩子-------------------------------
            // 文件超出个数限制时的钩子
            handleExceed(files, fileList) {
                this.$message.warning(`每次只能上传 ${this.limit} 个文件`);
            },
            // 点击文件列表中已上传的文件时的钩子
            handlePreview(file) {
            },
            // 删除文件之前的钩子
            beforeRemove(file, fileList) {
                return this.$confirm(`确定移除 ${file.name}？`);
            },
            // 文件列表移除文件时的钩子
            handleRemove(file, fileList) {
            },
            // 文件上传成功时的钩子
            handleSuccess(response, file, fileList) {
                this.fileList = fileList;
            },

            //-------------------------------钩子-------------------------------
            beforeAvatarUpload(file) {
                console.log(file)
            },
            submitUpload() {
                console.log(this.fileList)
                // this.$refs.upload.submit();
            },
            Upload() {

            }
        }
    })
</script>
</body>
</head></html>
